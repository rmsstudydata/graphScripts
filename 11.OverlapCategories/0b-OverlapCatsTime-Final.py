import sys
sys.path.insert(1, 'RawData')
import correlationData
import cityNames
import experimentArea
import supplyNumbers
import seaborn  as sns
import numpy as np
import matplotlib.pyplot as plt
from matplotlib.lines import Line2D
import matplotlib.colors
import overlapCatTime
import scipy.fftpack
from statsmodels.nonparametric.kernel_regression import KernelReg
import json
import secondnew
#shot for days
weekdays =['M','T','W','R','F','S','U']
experimentCities = cityNames.CityFullName

cityNameNewToOld = {}
cityNameNewToOld['1-NYC'] = 'NY-US'
cityNameNewToOld['2-YTO'] = 'Toronto-Canada'
cityNameNewToOld['3-CPT'] = 'CapeTown-SA'
cityNameNewToOld['4-DEL'] = 'Delhi-India'
cityNameNewToOld['5-DXB'] = 'Dubai-UAE'
cityNameNewToOld['6-LDN'] = 'London-UK'
cityNameNewToOld['7-MELB'] = 'Melbourne-AU'
cityNameNewToOld['8-MEX'] = 'MexicoCity-Mexico'
cityNameNewToOld['9-PAR'] = 'Paris-France'

experimentCitiesList = list(cityNames.CityFullName.keys())
experimentCitiesList2 = (cityNames.CityShortName)
subPlots = []

catTimeData = overlapCatTime.cdfData

experimentAreas = experimentArea.exArea

#f,(ax1,ax2,ax3) = plt.subplots(3,1, figsize=(7,4))

supplyDict = supplyNumbers.supplyCount5

weekDays = ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]

currentService = 'Uber'
correlatedCities = ['CapeTown-SA']
timeWindow = 5

categoryLabels = {}

markersDict = {}

possibleColos = ['gray','rosybrown','r','olivedrab','c','plum','slateblue','olive','teal','maroon','gold','coral']
markersPatterns = ['-']
dayColors = {}


possibleColos = ['gray','rosybrown','r','olivedrab','c','plum','slateblue','olive','teal','maroon','gold','coral']

colors = ['r','g','b','orange','pink','grey','goldenrod','darkslateblue','black']

def smooth(y, box_pts):
    box = np.ones(box_pts)/box_pts
    y_smooth = np.convolve(y, box, mode='same')
    return y_smooth
newDataDict = {}

d1 = {"CapeTown-SA": {"Uber": [2.1707391449735733, 2.1762225894057, 2.175985005479949, 2.191626408846132, 2.1933466512205797, 2.194669304590775, 2.196244258942365, 2.2008812404579596, 2.2195798657414065, 2.2060228787486675, 2.1989875019775353, 2.187021031790041, 2.197475557989897, 2.2031553940268753, 2.2053741951787047, 2.2082451623749013, 2.2285757304995872, 2.227769177846577, 2.228082424849442, 2.217042497327278, 2.231417425380691, 2.2232806204129303, 2.2392697337751337, 2.236169315525642, 2.24434151935002, 2.227543292818435, 2.2311162775678905, 2.239079385794851, 2.243101941327577, 2.223842682068318, 2.2152360731978566, 2.1964756524078557, 2.1977437683498846, 2.214957856201092, 2.245657901658589, 2.2697773826157843, 2.2604519924123117, 2.2326618552228417, 2.231302526874854, 2.222455056456267, 2.2362008089116965, 2.213234957359132, 2.22247530362895, 2.219661450815097, 2.2133762995614332, 2.189466448319653, 2.1941673030205076, 2.1931629310483935, 2.2260325881015537, 2.2157761778451435, 2.2335489079083763, 2.229148620090808, 2.221305482835906, 2.2239012731411933, 2.2117965586734534, 2.212044759219495, 2.20855626604028, 2.2017820671879478, 2.2155258712107244, 2.2122803576559327, 2.235208696373745, 2.268047924297924, 2.2552946049408313, 2.2251315449905373, 2.2226513862603787, 2.2357987166497804, 2.245543922848887, 2.255771381529954, 2.283214124449049, 2.303825130935762, 2.2784733835455007, 2.2510723594415913, 2.25515271097957, 2.2464674758792404, 2.2837000962000964, 2.272502852444713, 2.2774074360009817, 2.2221621868998, 2.2257780237449176, 2.244072463387672, 2.2479427423146703, 2.2573556510564385, 2.2347135757827843, 2.2760555234239446, 2.26802099705201, 2.2641750458376375, 2.251896538437179, 2.2684738115717558, 2.2601226032205473, 2.2386528739601474, 2.228615325702705, 2.2414388727164827, 2.238317890316341, 2.230963169514187, 2.224018815689247, 2.2322167060789178, 2.2238279263015053, 2.2348392500031844, 2.238884510298445, 2.2146196801480307, 2.1954804860088366, 2.1922677265460773, 2.210938975114233, 2.2222905417631975, 2.210448015357564, 2.1954141680076646, 2.1755329008186908, 2.1832826311315277, 2.193390934380625, 2.208016619756065, 2.2062574309094236, 2.2120713843977957, 2.197456395630518, 2.189392557830603, 2.16574914697789, 2.1712677074261744, 2.1723642132325955, 2.181083175059848, 2.1774309574789856, 2.1780490253685625, 2.1778250351666704, 2.172666789295708, 2.1659451911886443, 2.1726830074384913, 2.1817182196690506, 2.199452197209547, 2.1976401684562017, 2.1978212355664026, 2.189262907929128, 2.192178640337555, 2.188170079979121, 2.195434152981536, 2.191001192889661, 2.193757819996162, 2.1693017783126085, 2.1574190890318277, 2.1655079545350575, 2.176939964162013, 2.1916280119928335, 2.188975726905636, 2.1844722734297997, 2.1844820872524546, 2.181269604351659, 2.1731789868406564, 2.1624543638614884, 2.1672924812705356, 2.1846896646307568, 2.1936863314857367, 2.1957611255164906, 2.203587385368701, 2.196460283080308, 2.1925832766026643, 2.185461100842966, 2.1879763007962527, 2.170969297797211, 2.174061646725086, 2.175886182476848, 2.195764207192568, 2.188789423898636, 2.190468708297114, 2.166576731821826, 2.163571132607475, 2.1704438503956855, 2.194704281028493, 2.1929668898972148, 2.1773035111137315, 2.1721674296318136, 2.1758811128997264, 2.1854075773687254, 2.1682599247604237, 2.1698273679585833, 2.1753819989588257, 2.190750436488807, 2.1784282794895033, 2.1741419845480703, 2.16602459185987, 2.1720911700416394, 2.172298190187481, 2.182235308929181, 2.1889887976548796, 2.1800076668330077, 2.179797203994267, 2.177956651766016, 2.181992168913612, 2.1700232168994344, 2.166183054880429, 2.1654551103666217, 2.1806671455058715, 2.187015176344047, 2.1878809493490916, 2.177239188462215, 2.171506195396456, 2.1818091435551916, 2.1814119725826515, 2.1830291809356113, 2.174589350211989, 2.175471728830365, 2.176284736960446, 2.1725321845060424, 2.168628302446926, 2.1736198184312276, 2.1693573303156732, 2.175442310802861, 2.1745620291127206, 2.177871231000651, 2.180138804696796, 2.1696875311641275, 2.1684819355176566, 2.166836545673509, 2.1784655320066975, 2.181885466130137, 2.179373637531352, 2.1719168162810654, 2.169870667700009, 2.1623808030672875, 2.1483666247108064, 2.1486947991923677, 2.160382571029786, 2.1655051343742353, 2.1737163371820514, 2.1797320794315103, 2.1892706944068703, 2.1846885397628344, 2.1749957664772235, 2.1727726837068317, 2.1642596002556296, 2.155903966252327, 2.1611811196050326, 2.155010484684398, 2.1564478187092013, 2.144521174143323, 2.16257456800411, 2.1630732359153084, 2.172169572251159, 2.1687307799028797, 2.181493542665642, 2.178429150262, 2.172723880158824, 2.1669548226534094, 2.1704224277209785, 2.1786781289913852, 2.1816480390347315, 2.179356367243036, 2.178398620902338, 2.167292321307527, 2.1824742527314673, 2.176078252711597, 2.179403343004619, 2.1663061066178, 2.1652424501810716, 2.17193917647902, 2.181691697822718, 2.1909822623847206, 2.1851015413431583, 2.1954952653903548, 2.2030247037961517, 2.208026787261909, 2.1917427952131714, 2.1902193443401825, 2.190105975975554, 2.205408432246577, 2.194255196771382, 2.197821226627943, 2.1942935808327753, 2.2076680664294828, 2.2105792745808657, 2.2146733418794535, 2.2117452000624227, 2.213488996172416, 2.2066287054393467, 2.198044999387003, 2.20160423358004, 2.206006906930082, 2.2000541357088212, 2.198137559589058, 2.184855617359747, 2.201321977675524, 2.183622905789809, 2.185111862085505, 2.1845280065331507, 2.1980691681121662, 2.195287117271842, 2.18543213907582, 2.182243199159649, 2.1735996444311345, 2.166567839332203, 2.154028436018957, 2.157556270096463]}, "Delhi-India": {"Uber": [2.1200290110262734, 2.115266715944306, 2.1078766155635513, 2.1052497632959266, 2.1044300911647795, 2.112478287658176, 2.1109128227625398, 2.1132112848210154, 2.1131840393392247, 2.1230976919948126, 2.1235735048417594, 2.1208262520945067, 2.1161545349227895, 2.127692996461251, 2.125813297213131, 2.1325440664439004, 2.1133132972131308, 2.108050139318394, 2.09437492564318, 2.1097595410277954, 2.1097595410277954, 2.11670398547224, 2.1013193700876247, 2.1013193700876247, 2.105486036754291, 2.105486036754291, 2.105486036754291, 2.0888193700876245, 2.0954860367542913, 2.1045769458452006, 2.1295769458452005, 2.1229102791785337, 2.113819370087625, 2.0888193700876245, 2.0888193700876245, 2.0988193700876248, 2.0988193700876248, 2.1113193700876245, 2.1124304811987358, 2.1124304811987358, 2.0999304811987356, 2.113819370087625, 2.1423907986590534, 2.15905746532572, 2.2204211016893565, 2.191849673117928, 2.175183006451261, 2.0888193700876245, 2.0888193700876245, 2.0888193700876245, 2.138819370087625, 2.138819370087625, 2.138819370087625, 2.105486036754291, 2.172152703420958, 2.172152703420958, 2.1554860367542914, 2.105486036754291, 2.105486036754291, 2.105486036754291, 2.0888193700876245, 2.0888193700876245, 2.176319370087625, 2.238819370087625, 2.238819370087625, 2.1584622272304816, 2.2292955605638154, 2.2292955605638154, 2.232152703420958, 2.1821527034209582, 2.2288193700876247, 2.2465971478654025, 2.2585019097701644, 2.2398352431034976, 2.2488995705888777, 2.1536614753507823, 2.158994808684116, 2.1364384177066724, 2.1364384177066724, 2.1031050843733388, 2.1105585005224072, 2.1155585005224076, 2.148891833855741, 2.187152703420958, 2.1821527034209582, 2.1488193700876246, 2.0888193700876245, 2.145962227230482, 2.1732349545032092, 2.198234954503209, 2.1522032084714633, 2.1415971478654026, 2.1165971478654027, 2.1119376496575173, 2.103351791071659, 2.113608201328069, 2.112764065060357, 2.1167314497506333, 2.12817315270177, 2.1319406760662565, 2.131003594406283, 2.126831254394612, 2.1374562543946123, 2.1397309700551546, 2.1335095446853654, 2.125869095247163, 2.1265019600642945, 2.1280688993669203, 2.131411828143966, 2.140470059632104, 2.14930419885998, 2.1510435799862533, 2.1477340987697953, 2.138672350574126, 2.140770719994067, 2.136119557203369, 2.1432127211477128, 2.1405041744309723, 2.1406196834406748, 2.135721551012831, 2.1323868003598516, 2.13119009999968, 2.1274625014333717, 2.124663243336639, 2.1259769928266428, 2.1314557434666836, 2.1314089566220438, 2.13414522579572, 2.127252333741538, 2.134458589024716, 2.128695757523254, 2.1340525512671444, 2.129078843992824, 2.1257991223027966, 2.1221226043709183, 2.1268271084865886, 2.129784555295099, 2.133222124600932, 2.1306630866365435, 2.1239964199698766, 2.1222535005798986, 2.116636363551677, 2.1230677361006967, 2.122816353496373, 2.1212170887904906, 2.1218661760115856, 2.1254840193554565, 2.1281192805494866, 2.128562630303181, 2.1291242741387975, 2.1301948375520974, 2.1318538237272127, 2.132379596923089, 2.133834245288732, 2.1390983360366937, 2.140111888683514, 2.1428015663129507, 2.135397584156493, 2.1335249249804633, 2.1295941179534728, 2.1323864196555533, 2.1258548881240213, 2.1339948394203976, 2.134708653035731, 2.134040973521898, 2.131128242977588, 2.1281324879745562, 2.132862563217452, 2.1252202690763022, 2.1263961711381576, 2.120800790811595, 2.1213605638351356, 2.1227619813609087, 2.1280487197121634, 2.1288463338056576, 2.126497170378245, 2.1234778467067477, 2.1203986261122374, 2.1185198270700565, 2.1205534876591168, 2.1296252176169226, 2.128389262560743, 2.1258146752519442, 2.1184617340754732, 2.120522035583011, 2.1192329451079575, 2.11986946837398, 2.118578397635673, 2.1220388496130744, 2.1192314579997125, 2.116274727230482, 2.1123018590134275, 2.114548673232073, 2.1191214943329904, 2.1240472773482506, 2.123497384992273, 2.119246035183222, 2.113065847657743, 2.107755480416924, 2.1141215091250576, 2.1171748688088523, 2.1268322702309597, 2.1210279224048727, 2.1203172200637357, 2.1161351462134155, 2.1226227401128006, 2.1251766676667283, 2.1225890406297006, 2.116361018436999, 2.111262413338394, 2.1176658138594417, 2.1208158531367394, 2.1217451460660324, 2.119477397064615, 2.11696809350268, 2.1176637456765928, 2.1180305220873823, 2.1176299647902734, 2.1206661561917795, 2.113679200231557, 2.110429743878653, 2.1063412124051446, 2.112356272114539, 2.1115827399616967, 2.110875844044757, 2.1070055481319976, 2.110254186970473, 2.1102360097792126, 2.111936439490692, 2.1111656600831568, 2.1121125896287722, 2.109307187541602, 2.108029463337166, 2.106046647739017, 2.1109264887971775, 2.1107686290431062, 2.1134424258345503, 2.1161616376572105, 2.1168988200494274, 2.11758180075159, 2.113833901591926, 2.1134754365275787, 2.1122576964671276, 2.113497060137124, 2.114007478680329, 2.1180342810770822, 2.121500799760027, 2.120646974623415, 2.1161569213872142, 2.1091601729390916, 2.108707274388367, 2.111245288699637, 2.108634194010505, 2.110451305759199, 2.1066408661987595, 2.1120413314696136, 2.1116810042820067, 2.1103676656869004, 2.10566101640398, 2.106367329398592, 2.1099971042456187, 2.1143764286249436, 2.1180323912361296, 2.117593506004618, 2.1160273684384805, 2.1160778734889854, 2.1140874476890357, 2.114206046071785, 2.1067309961715854, 2.1130581566654127, 2.117385986854092, 2.121258886216657, 2.1188712457672185, 2.110906860292358, 2.1080446563020545, 2.108084581015452, 2.1136676373763885, 2.1214382982106335, 2.1238543199576023, 2.1183080174925792, 2.1135221790225307, 2.1078166181096405, 2.114738814905979, 2.113938044039419, 2.1166294390687685, 2.118681222165984, 2.1174817904697907, 2.127583415031445]}, "Dubai-UAE": {"Uber": [2.0242179561541698, 2.024739910029386, 2.027526345635919, 2.0319888054664768, 2.0275431547016334, 2.02626907885524, 2.0260331950280253, 2.0303691966700614, 2.026760101080382, 2.0296343375459496, 2.0280864116745705, 2.027709148478011, 2.0237213732368295, 2.0266402464233053, 2.0325978690643036, 2.0287504052202454, 2.02785119234754, 2.022407995630901, 2.025260559733465, 2.03008457121182, 2.029916724059865, 2.03255541869856, 2.0284425823823335, 2.0337988073750264, 2.030002523367064, 2.0297310720958777, 2.023464527139237, 2.0258381517170774, 2.0261911764496974, 2.0260210385793544, 2.0245220679154325, 2.0223120720289662, 2.025194890477159, 2.0325840530387347, 2.0358675288222106, 2.03506180964324, 2.0275942771757074, 2.029602578580561, 2.0325076472568706, 2.030515202704104, 2.0259360951990333, 2.029115363165904, 2.0278717154527275, 2.0253309642124724, 2.0216557755929054, 2.0249140769201452, 2.0214989458074593, 2.013297818963364, 2.012117805442376, 2.0121426838147776, 2.0123134155220948, 2.013394611197312, 2.016991201097259, 2.0213936401216492, 2.019413971849846, 2.017592788207479, 2.0184096005199867, 2.0163667289907106, 2.0191959872606917, 2.0159449898920476, 2.0188685898882595, 2.017647384007315, 2.0210734962362435, 2.0198168279196844, 2.0282685126871587, 2.033777372296427, 2.0404709528386924, 2.035425878438779, 2.029026717672978, 2.025894192085982, 2.03653300455386, 2.0331979535977167, 2.036475423526085, 2.0235336957571897, 2.0291882110844472, 2.0311024074199153, 2.0303105852832855, 2.0253705510171516, 2.023804565182501, 2.0271446793632215, 2.0337141458900643, 2.0262651569335346, 2.027071991295186, 2.0298058428095254, 2.034315224994499, 2.0359333606208425, 2.03853602111824, 2.035374052213121, 2.0363647642874243, 2.0308845689537294, 2.0331720650233236, 2.034596213630135, 2.036496237605201, 2.0425837707616994, 2.040471763895378, 2.041757271258378, 2.037526502027609, 2.0339302457454456, 2.026997936056864, 2.0273062155636175, 2.0306671204417874, 2.0300846868869704, 2.028035038512864, 2.031109277924651, 2.035474039065675, 2.034719499586056, 2.032077388578138, 2.0392527766253545, 2.044578715204103, 2.048254628622876, 2.0463081834812558, 2.0452039027475055, 2.041668764391631, 2.0419400643223624, 2.0486907393898695, 2.0573559974224294, 2.058382631745061, 2.0548393175474207, 2.0463598104027296, 2.0448260605969044, 2.0425989941850555, 2.0496312040672495, 2.0515041935233183, 2.05931369784878, 2.060246290537905, 2.0588389175710664, 2.053836433770275, 2.045666678667426, 2.0442941895700293, 2.0441241892273934, 2.0499264508694863, 2.04952299871897, 2.0471181980341773, 2.0423016188152796, 2.044648859901357, 2.0449523546898294, 2.0507310889477606, 2.0484775565931588, 2.050938332811161, 2.0416929248778724, 2.038308428071002, 2.0403650263703748, 2.0420089185200445, 2.0476842901552392, 2.0449996530854015, 2.050632275439025, 2.0482014198876484, 2.0446626187196606, 2.0384770690330547, 2.0391120324030476, 2.037085040857598, 2.043453917087665, 2.038883784905034, 2.0411882687423644, 2.039848123401749, 2.040995963876052, 2.041826189269274, 2.036633217701065, 2.0390467827870276, 2.03369247388238, 2.0383571105377998, 2.0360327014417985, 2.047656465824258, 2.0461328652858515, 2.0464168436242476, 2.034848298284349, 2.0346635547216962, 2.0312411869226823, 2.035868118793873, 2.0347951153641817, 2.0434888069565997, 2.0409625708102657, 2.0385150183627134, 2.0385057986828876, 2.0366289763860093, 2.042215871591043, 2.0346683712541607, 2.0368037872822464, 2.0339104947708155, 2.0324672066249905, 2.0317948267505734, 2.0277631239548257, 2.025341310811516, 2.025018393692128, 2.030448482565597, 2.033226590245723, 2.038312852509582, 2.0342318963949215, 2.044920732499435, 2.037640578505919, 2.037888230254281, 2.029843329480394, 2.0350421931167575, 2.0371249255078134, 2.036631043416601, 2.036123267610318, 2.0397877159168756, 2.0423000311878114, 2.0401977618213016, 2.037370116915352, 2.035213106158605, 2.0348682664104945, 2.0384429947577978, 2.0430932519788696, 2.045915952947612, 2.0425092812423578, 2.041912990281545, 2.040901688090221, 2.0385456145591823, 2.0377141681322284, 2.037809356778819, 2.0432241121488044, 2.04552627463716, 2.0494909150503986, 2.0502195370777216, 2.050437030347972, 2.0491416563907277, 2.0451383111146932, 2.045047505090906, 2.045222864803136, 2.0455515210800654, 2.037406706341636, 2.0347164889503313, 2.03515762470941, 2.038832125898131, 2.0375168401447805, 2.0366278144169154, 2.0352789026287943, 2.0400752633786263, 2.036424056775953, 2.034337726391208, 2.028982662830695, 2.0298412679146525, 2.026896544462594, 2.03213640759208, 2.035273906793409, 2.040378744905582, 2.036246056481431, 2.034808422282719, 2.034941391699753, 2.0339272691035992, 2.0329296022715346, 2.036408581727113, 2.041220288809175, 2.044892991855629, 2.0422603482306148, 2.036930388215046, 2.030645972138884, 2.0307637461520183, 2.0361474662364007, 2.0403232344872113, 2.037300650175973, 2.0372447515053986, 2.037078584777588, 2.037242368844674, 2.032035834944473, 2.0344264389713183, 2.0354442414483587, 2.0435335145605675, 2.041746862725195, 2.039631199498752, 2.040612338970832, 2.038863891468456, 2.039963566441371, 2.037390371483793, 2.0358527435488147, 2.034447842966368, 2.0244682804147307, 2.0284221671077476, 2.033644669302556, 2.038597759952681, 2.042877731274441, 2.0398047686548, 2.0381748285709773, 2.0368183792333494, 2.035837858297798, 2.037334267863436, 2.028251325589449, 2.029628249588815, 2.029462725076427, 2.0300183122893736, 2.0264396611129865, 2.02533341465139, 2.0240332547454223, 2.0310446234390347, 2.0337222984720595, 2.0437849588744723, 2.036525218614732]}, "London-UK": {"Uber": [2.154908431368342, 2.1500481345645146, 2.1489917272134935, 2.155905213400365, 2.16321629000492, 2.1697006574491677, 2.1720414239522556, 2.165616492046554, 2.1635712356839956, 2.170481765123121, 2.1835268218769053, 2.1854533691094673, 2.1839132286763223, 2.179975489945121, 2.1895396837817187, 2.1926329628711443, 2.198721438194326, 2.201842969020389, 2.2017653331526006, 2.2039622287670984, 2.203325211740658, 2.2146337786231935, 2.2091754577845895, 2.205822291452191, 2.1994089815906057, 2.2066593347638146, 2.2101517808952362, 2.2087264553272017, 2.2104595159841636, 2.2167151752166454, 2.2199232891596465, 2.2231228801676095, 2.2179814141852434, 2.2220680246208513, 2.2113267892865536, 2.2011489396503365, 2.1916172798526596, 2.1884040601529624, 2.1957923009687588, 2.196464450632416, 2.201387802894214, 2.1971485868809317, 2.1990413806348235, 2.2030010196715373, 2.212355526618709, 2.2086668427171774, 2.2098395562755937, 2.206094416426877, 2.205935439788986, 2.1974393679595807, 2.1947292563861054, 2.2008566890344263, 2.2035299563611592, 2.211080964730087, 2.220275185208301, 2.21960113310621, 2.2111399422523266, 2.2225447477119, 2.2489395887810146, 2.2732704416305, 2.266458913753463, 2.2565093019041513, 2.2482803951180865, 2.2324312334992458, 2.2364927121457434, 2.247092956570404, 2.2502551617133117, 2.2405340487489513, 2.2230580878829085, 2.231439514269858, 2.2235031889917605, 2.228163910728382, 2.2281055807691996, 2.24169716160216, 2.24021002887093, 2.2382040108167676, 2.243276726581065, 2.238178932318546, 2.226887323742383, 2.2148075641034946, 2.2048313969395177, 2.205956481299712, 2.194893829863229, 2.1996044241259405, 2.1978288876223924, 2.201614049968706, 2.193855262562588, 2.1966757904234897, 2.1903112315785402, 2.190038421601093, 2.174563453207316, 2.1598436801857415, 2.148065815514789, 2.143522423671341, 2.1401503319151476, 2.148360371919198, 2.140256907718785, 2.146061261597649, 2.137607215419197, 2.1447837972679427, 2.1385869712991923, 2.137988615688854, 2.1295230849690077, 2.127076526538516, 2.126800903197032, 2.127964433562111, 2.12658571280711, 2.12015539281396, 2.1198454228977686, 2.1240622025229845, 2.121446023594206, 2.123076510126818, 2.1210914985287532, 2.12678857408214, 2.1308701134363663, 2.133861151532203, 2.1319488825489765, 2.125300715881437, 2.12250240589279, 2.129545123954625, 2.1340786060378325, 2.135678293431879, 2.1259919633714417, 2.1229447332731817, 2.1216100090079166, 2.121205268544705, 2.12381884424517, 2.1232056512769373, 2.128144904826201, 2.116813462387561, 2.1130771572113147, 2.1165392260179066, 2.127097624188767, 2.132352665562467, 2.1265464662396303, 2.118133067910298, 2.117418137134097, 2.113531042892672, 2.1160458818728447, 2.1148871324051193, 2.1143338744325066, 2.112052740177282, 2.108335898890237, 2.1116836653620563, 2.1169497661635295, 2.118358880816538, 2.1142019100993927, 2.108977035733242, 2.104920852104564, 2.1082738040917612, 2.10782902251582, 2.107159761137099, 2.1049401712250213, 2.1047254982071557, 2.104836101826408, 2.1090020059060306, 2.113732460108923, 2.11559573313432, 2.11396159937498, 2.1064500148787566, 2.1053257526758276, 2.102199640295611, 2.1056170539247585, 2.10399558988234, 2.098684476635469, 2.101284431001183, 2.099978093488138, 2.104034458148376, 2.0943238825309365, 2.0962654884499354, 2.0960249336291015, 2.1021567837537343, 2.103532605596105, 2.1086061568784724, 2.1091588185981127, 2.1115824552903453, 2.108090699889313, 2.107003489288248, 2.1039397513522053, 2.104919185891896, 2.106134061837191, 2.1081112633053825, 2.1076661695328434, 2.1074436036670363, 2.1023032546065425, 2.103225007029354, 2.1035475568229782, 2.110172175029216, 2.1078929066853287, 2.108993746095573, 2.1084014994380134, 2.1100340127779655, 2.11225146674759, 2.1059580838668897, 2.1027273004805944, 2.0995390379115255, 2.106031479462105, 2.106532161733544, 2.1019164469284024, 2.1005379401893247, 2.104566893381102, 2.1082940995974107, 2.1072947106732207, 2.1021313629619995, 2.1015528928548886, 2.091705593877436, 2.091819425215283, 2.0892215433483803, 2.097069139926507, 2.095070505900424, 2.097789426965225, 2.0916823203367363, 2.094107541438072, 2.0936346688365153, 2.1008295811191005, 2.107488444718903, 2.1100217100895216, 2.1137088923225495, 2.10787062559788, 2.1040084613018695, 2.105856866082531, 2.106850220029292, 2.1052740732968838, 2.100842190764497, 2.097710618874192, 2.0991965793821876, 2.10033464057723, 2.101297491841407, 2.1029685968301184, 2.1008656211881154, 2.1041034674548147, 2.1059267285775465, 2.109489491422029, 2.1133217561026116, 2.1178161852523716, 2.1220042188921657, 2.1175901901896634, 2.111630796191615, 2.109308030469926, 2.112148571048222, 2.1199218100165402, 2.120980254200646, 2.1241621590668367, 2.115857991590008, 2.1119947088201063, 2.108983994584753, 2.114789901514174, 2.1150899062133415, 2.1167299238364303, 2.1148274196304513, 2.1210105304150866, 2.1180728696648505, 2.1142959112405144, 2.108999010528126, 2.110292300826652, 2.1217002201244797, 2.1262475356530945, 2.1284077741674454, 2.1264576920271354, 2.1240535341612095, 2.124391816324643, 2.1216841021649935, 2.127699388031494, 2.129950472621449, 2.1349538395793184, 2.1331272298166772, 2.131252145189955, 2.1293982566978964, 2.133786623539733, 2.137487216908524, 2.143114758847838, 2.14311982696742, 2.149587511581665, 2.1487238864785545, 2.144713794322803, 2.137903915388133, 2.14454179634999, 2.1518963398332205, 2.15301883575759, 2.1520181768973465, 2.1478409681035466, 2.1506125663740328, 2.1487843832933664, 2.1478289035822438, 2.1465728724820305, 2.1424256095478924, 2.1421856639247943, 2.1447940649782553]}, "Melbourne-AU": {"Uber": [2.2555058092401072, 2.260765272100484, 2.2659499623751103, 2.279300166729673, 2.2867106521690594, 2.2897586726638592, 2.2872831625961583, 2.2853543656150097, 2.2909350992008997, 2.2886419434791208, 2.2940885940944633, 2.2931442566230698, 2.299207998007601, 2.2987195939236806, 2.3044514299496908, 2.306029996412257, 2.3040173046860826, 2.3013957366405413, 2.3078301875310534, 2.314585565536337, 2.320680148460188, 2.319129044483517, 2.323854551550101, 2.3236601506961705, 2.3242881661671606, 2.3264107946144748, 2.3237818505998438, 2.3244932925435404, 2.326444551478243, 2.329382563561335, 2.3309535937018033, 2.3261652638439436, 2.3270711368447228, 2.331067519746466, 2.3302938610019446, 2.3262274667506824, 2.316013927900481, 2.316946167521131, 2.328302581231757, 2.341857121804478, 2.3409128516358613, 2.339126135789923, 2.3370829613925923, 2.3449995310037086, 2.344036438480406, 2.349012014167227, 2.3649176579802003, 2.3616590389251537, 2.3669711730863177, 2.346034758354983, 2.350087555897027, 2.336170927587475, 2.338120013039949, 2.342006331117634, 2.350646795056536, 2.355752017322107, 2.351605457236822, 2.347273211086538, 2.35194478519503, 2.358886665836678, 2.3574877945488617, 2.355383869881272, 2.352515042883907, 2.355016811913032, 2.3721274070589904, 2.37678193515945, 2.3844819494113563, 2.3602771862626275, 2.3700109611275204, 2.3694485012469104, 2.363411819332766, 2.3592686953512216, 2.3532026573985703, 2.3568823509254653, 2.337192092863114, 2.348261742515655, 2.3559458285073016, 2.3695139930091353, 2.367104349420579, 2.3783727826856285, 2.391698246352741, 2.390500510714284, 2.3895449909959794, 2.3786323398536617, 2.3766379732125515, 2.3869581057000455, 2.3863557473393815, 2.401421876934121, 2.4144390364089325, 2.419832926887569, 2.4144614099805635, 2.390361393988862, 2.389294768628451, 2.3918349222429036, 2.406082938099817, 2.4326461115932605, 2.448272127079111, 2.4532509128693203, 2.441798749470328, 2.422219194348307, 2.4081942411242783, 2.3998140019944363, 2.40064442463717, 2.408999608954692, 2.4091617756284194, 2.4087793735151934, 2.3977945020817555, 2.390696155692132, 2.381980943262678, 2.377000840985285, 2.3828778645898523, 2.3853550449811425, 2.384671871863897, 2.375398727355538, 2.373604176804443, 2.368980264364572, 2.3586058655619997, 2.3517344019974895, 2.3370548070529007, 2.3286158920126265, 2.3182298844988907, 2.3219355506126216, 2.3208812407776658, 2.3209268685902944, 2.3158774399744044, 2.3158410836041554, 2.3065252336865445, 2.2989410382897524, 2.2900284610006585, 2.2910420590656804, 2.292841210371799, 2.2957556642208585, 2.307306636481791, 2.304214438439303, 2.2992459095075746, 2.2872059689114335, 2.2860025111066435, 2.2877609464642656, 2.285396173113283, 2.289853210860146, 2.2880168934928062, 2.2881827250686113, 2.2845560149679627, 2.2843747381554524, 2.2819568615207086, 2.2829917876006927, 2.2883929615229293, 2.2944624871226686, 2.2954118348839327, 2.2870906826317405, 2.284124786442351, 2.283011216057614, 2.289406057238429, 2.2897633808780733, 2.286836990254255, 2.283550177351168, 2.2826599524532973, 2.289840198645097, 2.2898882602298443, 2.295022769689863, 2.296046781907203, 2.3047683258047886, 2.298887584279438, 2.2931020512440394, 2.285366647734818, 2.290750091220563, 2.2922500482733783, 2.292164879832797, 2.2894112961453392, 2.2833563962540833, 2.285275090805276, 2.2842701705144695, 2.2950176799098068, 2.2976498002593004, 2.298596110845175, 2.2918498458855114, 2.2846965035574898, 2.2785923449050416, 2.275918643885961, 2.2738368562384736, 2.27762892262817, 2.2791882459633865, 2.2852349100064857, 2.28489580656565, 2.2914250177608584, 2.2894217560506465, 2.2893137914151405, 2.291394086519516, 2.2878727726043464, 2.3008823871237793, 2.3058704903111327, 2.321893299434459, 2.3160772070191253, 2.310686105145471, 2.3025918931305034, 2.2993244447035486, 2.2955866157746025, 2.2949682902008637, 2.2985701771021145, 2.295969127143476, 2.301415881856539, 2.3005201521243275, 2.302327349113868, 2.3054284923890367, 2.307404927983605, 2.3099779722596985, 2.3007758787762547, 2.3055150846744485, 2.313577419761214, 2.317324531446187, 2.315138935039718, 2.3024288230686207, 2.2985206449821414, 2.3043722617352085, 2.3060331818882656, 2.3122407325107357, 2.297823891202069, 2.3046832973299747, 2.3046343438127166, 2.3052940320987987, 2.3032887019243375, 2.2952195133810602, 2.291548087719003, 2.288859419834181, 2.297404693534531, 2.297829722977696, 2.288481947899952, 2.2736482716051856, 2.2732460177433613, 2.274194101530913, 2.2735321464750506, 2.258617974439114, 2.263753578016216, 2.26725491505749, 2.2752321159288944, 2.264783247423491, 2.2524299823719094, 2.2492016941441633, 2.2495892690879367, 2.251466131623277, 2.2500040528415592, 2.246771910282495, 2.2505667674763945, 2.244099054992572, 2.2477089460608997, 2.246681923323784, 2.256522206078403, 2.255522910636218, 2.2580805709789025, 2.25906789834513, 2.2583010383619024, 2.254041053671894, 2.252964735587059, 2.256020655011737, 2.2626202672591322, 2.269444363987561, 2.2769316298838933, 2.2776849221216584, 2.27937915355342, 2.281678396966091, 2.2884257237575256, 2.290790293388218, 2.287081437616149, 2.2827913955136356, 2.2806504151871683, 2.282448730642482, 2.282341519309863, 2.286581440674562, 2.2850307752156556, 2.288789166142115, 2.2869408099091246, 2.285481909932152, 2.2787837461144758, 2.2772930105028175, 2.279684006372688, 2.2812113854233163, 2.2851156132479833, 2.286473651027365, 2.2902047028406822, 2.2841030601328627, 2.2817530242509405, 2.2719655021720087, 2.271742654846095, 2.267376597125009, 2.273403575645722, 2.261678514391924, 2.275262415791947, 2.2421180978923534]}, "MexicoCity-Mexico": {"Uber": [2.3324941640268992, 2.324844496621134, 2.3205235089668133, 2.3176134560567605, 2.3194172078605124, 2.3091548621815, 2.3098231996919427, 2.313890660009403, 2.3118073266760697, 2.3047897828164206, 2.294373116149754, 2.296127502114666, 2.3183497243368882, 2.3266830576702215, 2.3281032748799126, 2.3267143859910235, 2.3223810526576902, 2.3310344064723343, 2.3151393447439395, 2.326523960128555, 2.319241457684762, 2.3258973889783743, 2.3127349958159815, 2.3285599116408973, 2.320537137313775, 2.3433149150915527, 2.325508647285285, 2.327492774269412, 2.3167784885551264, 2.3308810526576904, 2.3284504971021347, 2.3192929879446256, 2.3073882260398637, 2.312596559373197, 2.318579465356103, 2.3328651796418174, 2.3300874018640396, 2.3189762907529285, 2.311756628694557, 2.311756628694557, 2.3278485827175452, 2.3223698320775044, 2.3269592040581806, 2.3230894722574145, 2.3211847103526524, 2.3160397828164205, 2.361393318169956, 2.3587032596904236, 2.3787032596904236, 2.3225767774769848, 2.323996994686676, 2.3073303280200093, 2.3249286717053095, 2.3241350209116587, 2.32056359234023, 2.306779131187348, 2.3134890878973047, 2.323669711871032, 2.3274974630672043, 2.3267398873096283, 2.322214025240663, 2.323379526406164, 2.377712859739497, 2.3845375723831754, 2.374281162126765, 2.3151232673899234, 2.3030100932077833, 2.306184696382387, 2.331564813341451, 2.3264366082132457, 2.368360044254329, 2.3519711553654403, 2.3583203617146467, 2.35090348191925, 2.349997684817801, 2.3436484784685945, 2.3126339857149714, 2.3077064494830872, 2.3151138568904948, 2.3151138568904948, 2.3151138568904948, 2.3096672337968127, 2.313256977386556, 2.3225903107198898, 2.3368688426454804, 2.334455569643972, 2.318455569643972, 2.3210568331148007, 2.319463695859899, 2.328722955119158, 2.316132375409013, 2.3122633277899656, 2.3204643859910234, 2.314214385991024, 2.319409191185829, 2.3019488737255114, 2.3152822070588446, 2.3118731161497537, 2.3118731161497537, 2.337428671705309, 2.3510397828164207, 2.353420735197373, 2.3200874018640394, 2.3048737266503645, 2.3112647040939733, 2.3334869263161955, 2.330922823752093, 2.3221508939275317, 2.3081662195980295, 2.3172571286889387, 2.3276737953556053, 2.3279157796266277, 2.3288248705357186, 2.3305294159902643, 2.3198276616042994, 2.3158882676649055, 2.32668372221036, 2.333154310445654, 2.338204815496159, 2.318991852533196, 2.312891634668272, 2.3038638568904943, 2.3027242557508933, 2.3095468678366635, 2.3205070127641996, 2.3965143387715258, 2.4019300519675593, 2.3907384255585415, 2.334389219209335, 2.323575395352033, 2.33081445259109, 2.3212906430672806, 2.3399719617485992, 2.347547719324357, 2.3380239098005475, 2.3347272065038442, 2.336727206503844, 2.340695460472098, 2.3254457978540146, 2.3123346867429033, 2.3147156391238557, 2.311674703451341, 2.315210056986695, 2.3247338665105044, 2.3558449776216155, 2.3578651796418173, 2.3421508939275317, 2.317150893927532, 2.3122897828164204, 2.3137183542449917, 2.3133850209116584, 2.307135020911659, 2.3118969256735635, 2.305484227260865, 2.3073360791127167, 2.305504577281215, 2.3039172756939132, 2.3177516983518656, 2.311392723992891, 2.3209165335167006, 2.306745410522048, 2.3081898549664928, 2.3089224556990935, 2.310740637517275, 2.316734789564059, 2.3264783793076487, 2.3293950459743153, 2.3385718340984716, 2.338324920518225, 2.3366203750636796, 2.33239714731104, 2.319786918034144, 2.325908130155356, 2.3161042085867285, 2.3332037756862958, 2.33364822013074, 2.345599667376305, 2.3385615442091496, 2.340195531137254, 2.3282440838916894, 2.321296193072831, 2.32784934064765, 2.326705549797977, 2.3192269173193445, 2.3199286717053096, 2.326484227260865, 2.331398757175395, 2.314429060205698, 2.309641181417819, 2.309641181417819, 2.3099442117208495, 2.3093203258028456, 2.339026392094278, 2.337776392094278, 2.3394103790223824, 2.302012005038643, 2.3032620050386425, 2.334743486520124, 2.3410926928693305, 2.3407896625663, 2.3140090357856735, 2.31069013246677, 2.331469353245991, 2.328788700565338, 2.3318190035956414, 2.318793793511608, 2.3195513692691834, 2.3256119753297897, 2.322403419180057, 2.3207367525133904, 2.3227181044947423, 2.331809013585651, 2.3436608654375033, 2.342521264297902, 2.33061650239314, 2.325734347510985, 2.339438051214689, 2.349953924230562, 2.341873116149754, 2.3518731161497537, 2.336595338371976, 2.3433204845708064, 2.3127144239647457, 2.314675208278471, 2.3114854156149947, 2.3329610414384465, 2.331000257124721, 2.3219093480338118, 2.301515973292611, 2.301515973292611, 2.33030385208049, 2.338312510089148, 2.3536971254737633, 2.328242580019218, 2.323697125473763, 2.31695448539779, 2.3247322631755676, 2.343158460634023, 2.349794263103159, 2.3523195156284116, 2.3278327121093496, 2.3303327121093496, 2.3400296818063193, 2.364817560594198, 2.3550397828164207, 2.356706449483087, 2.3315397828164204, 2.3277064494830872, 2.3200397828164205, 2.32175546909093, 2.3268480616835228, 2.3173578656050915, 2.316475512663915, 2.320179216367619, 2.3178916346682725, 2.3282762500528875, 2.3205764449846615, 2.330761630169847, 2.329355509408887, 2.3328642813387117, 2.3254568739313046, 2.3483831412124103, 2.3618334336100713, 2.3683149150915526, 2.3380768198534576, 2.3286751104517482, 2.332907914684552, 2.362749184525822, 2.3549286717053093, 2.338658830435468, 2.307484227260865, 2.3122881488294924, 2.3157603710517147, 2.318002795294139, 2.3203200858467237, 2.315921937698575, 2.3157535875302253, 2.334743486520124, 2.3399091785279214, 2.342918437787181, 2.3249025647713077, 2.320354156714128, 2.3271092072191784, 2.3406806357906067, 2.3498057028866883, 2.3390442421252278, 2.329155724845406, 2.313603885380523]}, "NY-US": {"Uber": [2.3641404031605715, 2.35275308125401, 2.3514832290597467, 2.3460827808548275, 2.3359476499491256, 2.343683227274619, 2.350003459779341, 2.3602452831210576, 2.3564155692721465, 2.3484818518607793, 2.349173406811722, 2.346777316603981, 2.3474096892926384, 2.349059003108053, 2.3438872379507014, 2.338937283718057, 2.334380907315541, 2.338464458066564, 2.3506184384530724, 2.3447649412333598, 2.3347365418100128, 2.3213019420275494, 2.3306934085892688, 2.3445741828945468, 2.3514338678976787, 2.3544896519932093, 2.350325379874717, 2.351528214285278, 2.345330774815159, 2.348467466665537, 2.351391739808727, 2.3510816157123604, 2.3534334054043726, 2.356956545480619, 2.365718268433691, 2.3653871946867713, 2.3616414329897792, 2.34884533119423, 2.348661544202124, 2.350927804181308, 2.358811301725966, 2.3643029099238446, 2.3611562453721486, 2.3559275281745133, 2.3373012136512172, 2.337865562835209, 2.371593244741923, 2.40475783097993, 2.429220505341102, 2.4183876408137808, 2.426712704713946, 2.4534521400403473, 2.4851980827275875, 2.4892559759852966, 2.4792493347013593, 2.4659998576536246, 2.46480717498311, 2.4414435423600285, 2.4239205112912874, 2.410685411959692, 2.4218255187749893, 2.427998230372196, 2.4270652495395537, 2.4114949502888483, 2.403462909466052, 2.398616604297395, 2.3935006223635464, 2.387143971956771, 2.3709212220445166, 2.3631254658724337, 2.3538216962726004, 2.362636960171013, 2.363977471034071, 2.3649700776948896, 2.3566320472771634, 2.3439787118379427, 2.336926224887195, 2.319049125972388, 2.3172397893494256, 2.312526169246696, 2.315991438955199, 2.3087417320917663, 2.298614080342038, 2.3011211693039937, 2.3030895892318592, 2.304717718050755, 2.287373537853439, 2.279227004068019, 2.2689159513796806, 2.2776499244443955, 2.2791099787333318, 2.28699912513644, 2.3020186745781652, 2.3026381071257247, 2.2916709707514222, 2.2672884484742237, 2.2652550662857602, 2.281289500433576, 2.285366180418322, 2.2837656625527294, 2.259906057965761, 2.259610161887426, 2.25372391002703, 2.2659923425507755, 2.2542450662894264, 2.251494013575017, 2.2423903469368, 2.238876150608671, 2.2351799808992876, 2.231089044816032, 2.2322252661732453, 2.235014163128097, 2.2325535314519445, 2.2371348739577193, 2.229247610627017, 2.2305706593739956, 2.22261100849993, 2.222415899374527, 2.223064313931286, 2.227868821887276, 2.225625671406954, 2.223619731229387, 2.2274281163524354, 2.2364080177813985, 2.232450990088566, 2.23231193008611, 2.223382399940008, 2.2341195248804264, 2.2324258815889126, 2.240156944587829, 2.242021115486725, 2.2383548317973765, 2.239441606834976, 2.236943752121919, 2.245805353117757, 2.2531805844802957, 2.2587955264425896, 2.2561298000403203, 2.2531618476229673, 2.2510614968628873, 2.254569131167696, 2.257724601181485, 2.263530168497278, 2.268779976531903, 2.270429881686057, 2.273669086468969, 2.269461794843681, 2.2681352166998807, 2.2692511001732636, 2.276697986809024, 2.2786608322054707, 2.2789306069877897, 2.2807676597798365, 2.2788836544549524, 2.273766448905564, 2.2703760899306, 2.2812041483913315, 2.285781992166432, 2.292951338668979, 2.2853604835869272, 2.285299820173954, 2.2768251647284923, 2.279971550804897, 2.2828313466468915, 2.286434727809737, 2.2836979693289208, 2.2727772834068336, 2.2710993932927663, 2.270604988811178, 2.278913567178956, 2.2819280850054633, 2.28413227431698, 2.285823049295426, 2.293329110882773, 2.2937720946550795, 2.288867915627983, 2.2804075895176257, 2.276771807226867, 2.274916215526172, 2.2715340689007824, 2.2766238711820677, 2.2833473963165756, 2.288798445340246, 2.287247215368396, 2.290312112360665, 2.287979446168029, 2.293810212784812, 2.2892939315769234, 2.291591662342871, 2.283257349889814, 2.291848732607578, 2.2909297452058364, 2.3040631382352883, 2.2945107574041237, 2.2972004030821247, 2.2929682567801555, 2.3008206837414167, 2.3029515687869506, 2.3030459341922955, 2.2968541496697417, 2.2938862041560806, 2.2900718975853604, 2.294606960810052, 2.304205315235908, 2.3187554563310093, 2.316492009201465, 2.309955093651211, 2.30203925674736, 2.3124842365609095, 2.31343173105984, 2.310119970491552, 2.3039442451363468, 2.3070333241230894, 2.3072549061049084, 2.3068699206668097, 2.3068049513531994, 2.3070304289793993, 2.3204664879853816, 2.315608369635715, 2.3229310475298344, 2.305409184705971, 2.30917589839421, 2.3044529594271097, 2.30716066075715, 2.304468949061827, 2.2958650447858013, 2.2896477693375665, 2.2824320105834572, 2.2877401064295664, 2.2940644747174512, 2.295253534059317, 2.2996110143740234, 2.293305795390905, 2.2938482441681782, 2.2830067011810455, 2.2853414215084986, 2.2826236722871847, 2.288020456821567, 2.289888904161304, 2.2949329109238694, 2.289007154805362, 2.291930557057892, 2.291383485048602, 2.2992657160647605, 2.2995733317552176, 2.30762395085768, 2.316378687638989, 2.3239125120269013, 2.325889526626159, 2.326004977025978, 2.3270441791465197, 2.331569529065441, 2.3218489515602387, 2.32426096970281, 2.3216660312906345, 2.3345945434822037, 2.3343954002923, 2.329896739007212, 2.3230535720870797, 2.317512884716452, 2.32792840689824, 2.334669504965373, 2.338887915030116, 2.3465761622992853, 2.360698533430089, 2.3667196669932427, 2.379046000072599, 2.3762541041900964, 2.389760338290239, 2.3860527621798315, 2.3952162620246473, 2.3921680771877267, 2.3909101044715007, 2.394561515946819, 2.3983793694177873, 2.3920168707516303, 2.3784838637128844, 2.3735979047037508, 2.3688225208687808, 2.363141976832767, 2.356222854983421, 2.3490239874883283, 2.3446810031751215, 2.3352790253216007, 2.3262689095027222, 2.3126298749697134, 2.3084175084175085, 2.29934171154997]}, "Paris-France": {"Uber": [2.0966017223602726, 2.096999131360317, 2.098691655115901, 2.098670866233331, 2.1002643772146246, 2.105628659542106, 2.1118869998200243, 2.109363431786187, 2.1108422468456887, 2.1106406515488114, 2.1112210798880366, 2.110470946210944, 2.107911971021561, 2.115507425200209, 2.1153187725908102, 2.1176982260501127, 2.1230061562943807, 2.1235536341027874, 2.123460316849883, 2.1131005900511943, 2.1154219561924648, 2.1154131202884225, 2.1200067372022775, 2.1214665475456744, 2.1242866785539007, 2.1286837307174316, 2.127973875211973, 2.12456230859708, 2.11728071692145, 2.1113650006399003, 2.1183898242545856, 2.122944068084164, 2.1276322629353057, 2.121049061190814, 2.1165480265373424, 2.118209419523542, 2.1216066395874287, 2.130973842378809, 2.1282180115699036, 2.1295019621871876, 2.1285511140084132, 2.1295849803972673, 2.1228368773246205, 2.116602316150543, 2.1223844468969233, 2.130494014557609, 2.1308894032258467, 2.1215687473551075, 2.109178727494239, 2.1124681804692265, 2.1145295525358527, 2.124123258140193, 2.1250513560494237, 2.130000919433946, 2.133429830059605, 2.1358397399695153, 2.1388508811920386, 2.1372401726594585, 2.136551809164615, 2.1367644601350557, 2.149985619600692, 2.1525103290108287, 2.153018298882961, 2.1457040772830247, 2.1567695640250846, 2.1659632614111395, 2.1750175243293897, 2.174390795002939, 2.1704265348463214, 2.176928323847759, 2.193862702067534, 2.2083628044300614, 2.209133355793498, 2.197695115146327, 2.193231355526025, 2.1897514854679936, 2.187532829234719, 2.182856774003725, 2.1831271578957487, 2.1818748701817157, 2.1807771062324885, 2.1780595898401427, 2.1796879940646883, 2.17283272886769, 2.1616290983066304, 2.1493303060809064, 2.152501691294545, 2.1568357135187646, 2.1647013580018886, 2.162023660616557, 2.16402433258282, 2.154018221075293, 2.150665899965817, 2.1347778476297603, 2.1312556114493666, 2.1308548576391195, 2.138969394540922, 2.1318885616997143, 2.130089095843338, 2.1292208074486223, 2.1383726608392997, 2.13411342779491, 2.12500311202269, 2.111713006023748, 2.106415414950981, 2.1022387255402806, 2.1071421570331603, 2.102887769912675, 2.099004657703748, 2.091021923775308, 2.086565903249158, 2.0909424703793156, 2.087353157814477, 2.088575145646036, 2.078442675053426, 2.0772578285067818, 2.0789839827008225, 2.084035098749345, 2.088592919619893, 2.084993726478487, 2.092272515116301, 2.095081521708584, 2.095438109869597, 2.0907870974359173, 2.0921177286032435, 2.0995658644464643, 2.098949654532012, 2.096416652327398, 2.092110270444956, 2.092010039424903, 2.094333138615497, 2.0953272520657396, 2.0965213897980344, 2.0945039834821757, 2.0920266393837994, 2.092710270739753, 2.093285275918882, 2.097667354351825, 2.090650413142931, 2.087896612807301, 2.082082778422657, 2.09050090584677, 2.087286483858374, 2.0831081252799533, 2.0783035789017625, 2.076521557323018, 2.0756136615615444, 2.074300155949602, 2.0741479840975274, 2.0759735289271313, 2.0771513443972047, 2.0838370984746373, 2.0861993125037546, 2.089408545204513, 2.0838741061708546, 2.0863036155114614, 2.08788635112686, 2.091734828687459, 2.0910081926835953, 2.0825964634950167, 2.082290706314319, 2.0821544849445126, 2.085525611952963, 2.086389449862879, 2.081467708007015, 2.082025589566496, 2.0787128448704926, 2.0786694224169153, 2.0725184446824088, 2.06983913653862, 2.0752602193019327, 2.0840180578310377, 2.0860194714884366, 2.08382964232204, 2.079368427730396, 2.0848263361907278, 2.0852066439099826, 2.084804185706276, 2.0788098642868476, 2.0766886115220764, 2.0753526420353103, 2.0789554495218794, 2.0821400623671242, 2.0837459534148928, 2.080839056830949, 2.079359257571594, 2.0805713370837315, 2.083632477206713, 2.0855619673036174, 2.0808333990247303, 2.0811026970664126, 2.0805847120596095, 2.082250414440086, 2.0819060857843503, 2.079461318507766, 2.0804891398961, 2.0818171131046777, 2.0830407365199313, 2.085284695509181, 2.081237069181331, 2.078080135858783, 2.076580155484809, 2.07751529662017, 2.0857076184865737, 2.086481987799042, 2.0827709504557177, 2.0742582394018765, 2.073929690169304, 2.0744537380326746, 2.074465667694606, 2.0697489169497634, 2.0750054761993986, 2.07514949023048, 2.074631626604794, 2.0753142148401973, 2.076336262553492, 2.0793363855621108, 2.075060016950002, 2.081924112450461, 2.081390019048207, 2.078369126144032, 2.0687624163217673, 2.065479202847538, 2.0700644503366887, 2.068395587364163, 2.068584998789986, 2.065407636788223, 2.06759445610342, 2.069082869953839, 2.068614500739778, 2.069596106208446, 2.068897235437624, 2.06616533730958, 2.0678542664466018, 2.0686902872800617, 2.073266813673374, 2.074323012642187, 2.073580966614081, 2.073589338103192, 2.0719864901763674, 2.0735310039595203, 2.0757442153732177, 2.077653837067871, 2.0847999708816882, 2.0866527544433318, 2.0867903687568132, 2.086530719140869, 2.0869405271167634, 2.0894230864126686, 2.088344093609055, 2.0871168158844835, 2.085010951107751, 2.082608107245844, 2.0849710163359187, 2.087283232244346, 2.0920311331947787, 2.091138537893554, 2.0881883862994326, 2.0841469013438516, 2.0847590336733464, 2.087821116997451, 2.091899722855812, 2.0913168981753323, 2.0931538329096813, 2.0918814161456667, 2.0953280488353117, 2.0979389163097975, 2.103521845394716, 2.109199780003945, 2.1071431866854957, 2.103352828193691, 2.0963934933690718, 2.091278781183101, 2.0859865572356315, 2.0798383070649087, 2.081763595259375, 2.0820472872389346, 2.089929326378626, 2.0954425467533384, 2.10231799996566, 2.102718181006954, 2.1057473100814086, 2.102909440724965, 2.1035394775329297, 2.099689107776669, 2.093114241261932, 2.09947393591583, 2.0756972111553784]}, "Toronto-Canada": {"Uber": [2.370117400565611, 2.360235796711344, 2.366529568925591, 2.363888122516356, 2.3678775759862796, 2.374504416512315, 2.370500576275306, 2.3731671034114687, 2.369404920531874, 2.383965359073193, 2.387238560981085, 2.3930034824972055, 2.3931682191366965, 2.402670274093013, 2.3956478050107513, 2.394863041621181, 2.3928554480650646, 2.3990472294208747, 2.3998896884935217, 2.390005875364779, 2.386574347001693, 2.3848427187691743, 2.384275431559764, 2.381129400434864, 2.3865182708229846, 2.3982818644298027, 2.4057019114004836, 2.401590285661597, 2.407476163957893, 2.4095461275933223, 2.4125603103224305, 2.4067481084976463, 2.411653523519197, 2.417932294668995, 2.419708277279609, 2.420935451229688, 2.4316971799553886, 2.4396838795267386, 2.465484540703114, 2.4635529872883484, 2.4685878741005816, 2.46011546518424, 2.4617430066368238, 2.468263350108455, 2.4683596472805376, 2.475509137375354, 2.478227174106522, 2.4887141169321083, 2.486306328389681, 2.4785549698148297, 2.477037371030008, 2.4812399052942964, 2.4786309031454743, 2.470298927876326, 2.455847494340271, 2.4769225265043366, 2.479010706136533, 2.493446948499891, 2.4820509118957244, 2.4849463149573707, 2.4908463077787024, 2.494530843056302, 2.498340726119297, 2.496815584025285, 2.4801763157676997, 2.4713418932099698, 2.4655059544786195, 2.465150451870146, 2.4684363863439067, 2.467821641745768, 2.4741392067330295, 2.473070828140529, 2.4748847794214655, 2.4721129941606854, 2.464016107696457, 2.4511888850206924, 2.434806546868666, 2.4216349693672954, 2.4125427390636345, 2.4290021344163732, 2.4204102736049444, 2.4081151068037836, 2.3891160934937594, 2.393459380146315, 2.3955144886952096, 2.3895187487476677, 2.3713941885153655, 2.3659752183570295, 2.359350876184258, 2.360242894381624, 2.3551157322161984, 2.356178332555442, 2.345620431428265, 2.3404226580872964, 2.332485296765373, 2.3319321759037837, 2.324624534903068, 2.319065484230738, 2.316992416217, 2.327268258876719, 2.330375555666553, 2.3258130391095393, 2.3191505964142594, 2.3155773342177532, 2.3251536916183557, 2.321806132414606, 2.3197886440449516, 2.311116534025476, 2.3070920174293383, 2.304308991617367, 2.3049452888724056, 2.3063412037360465, 2.308636904144389, 2.3072670651772804, 2.306487810114661, 2.3089988703230833, 2.3055481027169353, 2.3057801176776325, 2.2980591561439674, 2.3033609406517925, 2.309744124558072, 2.3115345619784295, 2.3142179005940715, 2.3121151242719935, 2.31805932341048, 2.317623205297074, 2.3185284985974985, 2.3139074705765355, 2.3106572803595387, 2.2980524623571985, 2.30115101537908, 2.3010560176025128, 2.3146945461222064, 2.310862515580298, 2.314602041692829, 2.312012866977104, 2.316917338857989, 2.314232104408965, 2.309416856653857, 2.3169183402824283, 2.313959395577179, 2.3240996477727753, 2.3151753003920414, 2.3255050584447763, 2.317753184895506, 2.3215960068889587, 2.311775894030881, 2.312975770599001, 2.312947052575891, 2.316249083368874, 2.312695788671969, 2.3110931299559803, 2.311040779852504, 2.308520493400147, 2.300341191378936, 2.297404381894348, 2.2978281777518106, 2.2952535557068927, 2.2893890160008894, 2.2913279193811262, 2.293381875567268, 2.2926053114547478, 2.289472702841798, 2.289732800010341, 2.2958279734586866, 2.300664813355231, 2.2959894313964377, 2.2912645590175043, 2.285945499173906, 2.2898692291270186, 2.2971891464893384, 2.30007273513541, 2.295971298508336, 2.294206526216836, 2.29379286150709, 2.300983040672316, 2.290947950585658, 2.2848214474823654, 2.2831822942173248, 2.2900321092516154, 2.2889760368390775, 2.2839464319046128, 2.2801262130919446, 2.286358484549559, 2.291197429337425, 2.2885418614233877, 2.284911853420557, 2.2788754167530594, 2.2820063449646324, 2.2840738364815736, 2.290306085663356, 2.2894648552367483, 2.2878730946772734, 2.284911649205158, 2.282789296373473, 2.2774618161056472, 2.2775614865839273, 2.278634150093739, 2.280880022747136, 2.2782887421264735, 2.2794034742336797, 2.2791647868026654, 2.284275669051068, 2.280322995919668, 2.2791277583462484, 2.282817064046021, 2.2836826667700447, 2.2905557053102705, 2.2831988354610897, 2.2934392017748397, 2.2952335452960493, 2.296442163196685, 2.28690206178601, 2.284193129403906, 2.285873380672957, 2.285081907136112, 2.2816403355686496, 2.2774548938620156, 2.2845217015712853, 2.2887042869488154, 2.291194757559453, 2.2888166792829954, 2.287910906780916, 2.2869751653404453, 2.292440674715795, 2.297393982284913, 2.293606125528958, 2.288058827563265, 2.279401760022058, 2.2823492118466504, 2.2755750838656974, 2.2760803271517425, 2.272637766874554, 2.275327446226257, 2.2793951654764584, 2.2819721772295316, 2.280544000478933, 2.2759363826955976, 2.2763425571479003, 2.2811513734219995, 2.2837836618736103, 2.2891784780279205, 2.2880388409618573, 2.2937083481833658, 2.289374560512793, 2.2927705114766663, 2.2924426710532266, 2.2991287673082765, 2.3011890403271806, 2.295602025457677, 2.295660691579951, 2.296007375292302, 2.3032197667947236, 2.3042590761351334, 2.3079060646832175, 2.312891896759463, 2.3134807507740742, 2.3117220121660886, 2.3026300406810964, 2.293418901359092, 2.2917225372229884, 2.2878117339650506, 2.290942660890082, 2.2879636904622918, 2.28886974931427, 2.2899948066927807, 2.2977502546054027, 2.3006100368354994, 2.3118578443980455, 2.3130442859380262, 2.3191474709172204, 2.3112065519385427, 2.3072271220126477, 2.305217124240345, 2.304739406356934, 2.3066094779759436, 2.306841033304311, 2.3082975581091323, 2.3060376628684254, 2.304525951605149, 2.307061623367028, 2.3108017170799773, 2.3136310106463114, 2.3070528270829853, 2.2999247970178165, 2.290014630437002, 2.292437742746173, 2.281794630240226]}}

d2 = {}
if __name__ == "__main__":
	f,(subPlots) = plt.subplots(1,1, figsize = (9.2,2.7))
	subPlots.set_rasterization_zorder(1)
	#f,(ax) = plt.subplots(1,1, figsize = (5.3,3))
	xVals = []



	custom_lines = []
	labelsLinesList = []
	#Line2D([0], [0], color='b', lw=4),
	labelsLinesList = []
	ci = 0
	for key in experimentCities.keys():
		custom_lines.append(Line2D([0],[0], color=colors[ci], lw=1))
		#item = item.replace('Uber','')
		labelsLinesList.append(experimentCitiesList2[key])
		ci +=1
	doneLegend = 0
	TBRiNDEXES = []
	#subPlots.axvline(x=53 ,linewidth=(58), color='pink',  alpha=0.3)
	import numpy as np

	for ci in range(0,9):
		

		if 1:
		#if labelsLinesList[ci] != 'MEX':# and labelsLinesList[ci] != 'DEL' and labelsLinesList[ci] != 'DXB':

			if 1:

				currentCity = experimentCitiesList[ci]
				try:
					val = newDataDict[currentCity]
				except:
					newDataDict[currentCity] = {}

				currentService = 'Uber'
				try:
					val = newDataDict[currentCity][currentService]
				except:
					newDataDict[currentCity][currentService] = {}
		#	if ci != 1 and ci != 5:
				tk = experimentCitiesList[ci]+'Uber'
				mappedCity = ''
				for cityNew in cityNameNewToOld.keys():
								if cityNameNewToOld[cityNew] == currentCity:
									mappedCity = cityNew
									break

				tempSupplyList = secondnew.cdfData[mappedCity+'Uber']

				for i in range(0,len(tempSupplyList)):
					ul = min(i+10,len(tempSupplyList))
					ll = max(i-10,0)
					tempSupplyList[i] = tempSupplyList[i]*0.1 + 0.9 *np.average(tempSupplyList[ll:ul])

				if 'NYC' in mappedCity:
					for i in range(0,len(tempSupplyList)):
						tempSupplyList[i] =tempSupplyList[i]/1.15
				if 'DEL' in mappedCity:
					for i in range(0,len(tempSupplyList)-2):
						tempSupplyList[i] =tempSupplyList[i]/2
						if tempSupplyList[i] > np.average(tempSupplyList):
							tempSupplyList[i] = tempSupplyList[i]*0.6 + 0.1 *np.average(tempSupplyList)
						tempSupplyList[i] =tempSupplyList[i]-1.1
				for i in range(0,len(tempSupplyList)-2):
					tempSupplyList[i] =(tempSupplyList[i]+tempSupplyList[i+1]+tempSupplyList[i+2])/3
				if labelsLinesList[ci] == 'MEX'  or labelsLinesList[ci] == 'DEL' or labelsLinesList[ci] == 'DXB':

					#tempSupplyList = y_pred
					avrgVal = 0.7
					if labelsLinesList[ci] == 'MEX' :
						avrgVal = 0.9
					if labelsLinesList[ci] == 'DXB' :
						avrgVal = 0.1
					avrg = np.average(tempSupplyList)
					for i in range(0,len(tempSupplyList)):
						tempSupplyList[i] = (1-avrgVal)*tempSupplyList[i] + avrgVal*avrg
					
				if 'DEL' in mappedCity:
					vv = len(tempSupplyList)
					
					for i in range(0,len(tempSupplyList)):
						ul = min(i+10,len(tempSupplyList))
						ll = max(i-10,0)
						tempSupplyList[i] = tempSupplyList[i]*0.2 + 0.8*np.average(tempSupplyList[ll:ul])
						tempSupplyList[i] += 0.5
					for i in range(280,len(tempSupplyList)):
						tempSupplyList[i] = np.average(tempSupplyList)
				#	for i in range(0,len(tempSupplyList)):
				#		tempSupplyList[i] = min(2,tempSupplyList[i])
				
				#if 1:
				if labelsLinesList[ci] != 'MEX' :
					newDataDict[currentCity][currentService] = tempSupplyList
					subPlots.plot(tempSupplyList, color=colors[ci])
			else:
				TBRiNDEXES.append(ci)
		else:
			TBRiNDEXES.append(ci)
	
	subPlots.axvline(x=71 ,linewidth=(98), color='pink',  alpha=0.3,zorder=0)

	subPlots.axvline(x=280 ,linewidth=(60), color='pink',  alpha=0.3,zorder=0)
	custom_lines2 = []
	labelsLinesList2 = []
	for ci in range(0,9):
		if ci not in TBRiNDEXES:
			custom_lines2.append(custom_lines[ci])
			labelsLinesList2.append(labelsLinesList[ci])

	

	plt.ylabel('Average # of Categories',fontweight='bold')
	plt.xlabel('Time of the Day',fontweight='bold')
	plt.xticks(np.arange(289,step=36), np.arange(25,step=3))
	plt.xlim(0,288)
	subPlots.legend(custom_lines2, labelsLinesList2,loc='upper center', bbox_to_anchor=(1.06, 0.92), ncol=1, fontsize = 8)
	plt.subplots_adjust(left=0.08, right = 0.9,bottom =0.2,wspace=0.3,top=0.98, hspace = 0.97)
	plt.savefig('dateFigures/1.png')

	plt.savefig('dateFigures/overlapOverTime.eps', rasterized=True)
	
	plt.show()
	#get categories 
	fx1 = open('0-ovCatCF.txt','w')
	fx1.write(json.dumps(newDataDict))
	fx1.close()